# Program of How to use Multiple Layouts in Single .kv file
#:import Factory kivy.factory.Factory
        
#<Button>:
#    background_color: 1, 0, 0, 1
#    canvas:
#        Clear
#        Color: 
#            rgba: 0, 1, .8, 1 #00ffCE
#        Rectangle:
#            pos: self.pos
#            size: self.size
#        Rectangle:
#            pos: self.pos
#            size: self.texture_size
#            texture: self.texture

<Gray_48sp_Label@Label>:
    font_size: '48sp'
    color: (.6, .6, .6, 1)
    canvas.before:
        Color:
            rgb: (.9, .9, .9)
        Rectangle:
            pos: self.x + sp(2), self.y + sp(2)
            size: self.width - sp(4), self.height - sp(4)

<Black_12sp_Label@Label>:
    font_size: '12sp'
    color: "#000000"

<AlarmCheckBox@CheckBox>:
    size_hint_y: None
    height: '48dp'
    color:  0, 0, 0, 1
    
<AlarmPopup>:
    title: 'New Alarm Details'
    auto_dismiss: False
    size_hint: (None, None)
    size: (400,500)

### Layer 1 Start

    BoxLayout:
        id: popup
        orientation: 'vertical'
        spacing: 0, 10
        padding: 10, 10, 10, 10
        
        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

###     Layer 1 widget

        GridLayout:
            cols: 1
            size_hint_y: .80
            spacing: 0, 20

###         Layer 2

            GridLayout: #   +++++++++++++++++++++++++++++> Layer 2 Child 1
                cols: 3
                size_hint_y: None
                height:  '30dp'
                spacing: (10, 20)

                GridLayout:
                    cols: 1
                    size_hint_x: .20
                    padding: 10, 10, 10, 10

                    Black_12sp_Label:
                        text: 'Hour (24Hr)'

                GridLayout:
                    cols: 3
                    size_hint_x: .60

                    GridLayout:
                        cols: 3
                        size_hint_x: .45

                        Button:
                            text: '+'
                            background_color: 1, 1, 1, 1
#                            size_hint_y: None
 #                           height: '30dp'
                            on_press: root.incre_hour()

                        TextInput:
                            id: tihour
                            multiline: False
                            font_size: '12sp'
 #                           size_hint_y: None
#                            height: '30dp'
                            text: '00' 

                        Button:
                            text: '-'
                            background_color: 1, 1, 1, 1
#                            size_hint_y: None
#                            height: '30dp'
                            on_press: root.decre_hour()

                    GridLayout:
                        cols: 1
                        size_hint_x: .10

                        Black_12sp_Label:
                            text: ':'
#                            size_hint_y: None
#                            height: '30dp'
                            bold: True

                    GridLayout:
                        cols: 3
                        size_hint_x: .45

                        Button:
                            text: '+'
                            background_color: 1, 1, 1, 1
#                            size_hint_y: None
#                            height: '30dp'
                            on_press: root.incre_min()

                        TextInput:
                            id: timin 
                            multiline: False
                            font_size: '12sp'
#                            size_hint_y: None
#                            height: '30dp'
                            text: '00'

                        Button:
                            text: '-'
                            background_color: 1, 1, 1, 1
#                            size_hint_y: None
#                            height: '30dp'
                            on_press: root.decre_min()

                GridLayout: 
                    cols: 1
                    size_hint_x: .20
                    padding: 10, 10, 10, 10

                    Black_12sp_Label:
                        text: 'Minute'

#####################################################################################
            GridLayout: # +++++++++++++++++++++++++++++++++> Layer 2 Child 2
                cols: 1
                size_hint_y: .80
                spacing: 0, 20
#                padding: 10, 40, 10, 10

                GridLayout:
                    cols: 2
                    size_hint_y: None
                    height: '60dp'

                    Black_12sp_Label: 
                        text: 'Repeat: '
                        size_hint_x: .2

                    GridLayout:
                        cols: 7
                        id: repeat
                        size_hint_x: .8

                GridLayout:
                    cols: 3
                    size_hint_y: None
                    height: '30dp'

                    Black_12sp_Label: 
                        text: 'Name :'
                        size_hint_x: .2
                    
                    TextInput:
                        id: name
                        multiline: False
                        font_size: '12sp'
                        size_hint_x: .6

                    Black_12sp_Label: 
                        size_hint_x: .2

                GridLayout:
                    cols: 3
                    size_hint_y: None
                    height: '30dp'

                    Black_12sp_Label: 
                        text: 'Audio file:'
                        size_hint_x: .2

                    TextInput:
                        id: audio
                        multiline: False
                        font_size: '12sp'
                        size_hint_x: .6 

                    Button:
                        id: browse
                        text: 'browse'
                        font_size: '12sp'
                        size_hint_x: .2

                GridLayout:
                    cols: 4
                    size_hint_y: None
                    height: '30dp'
                
                    Black_12sp_Label: 
                        text: 'Duration:'
                        size_hint_x: .2

                    TextInput:
                        id: dura
                        multiline: False
                        font_size: '12sp'
                        size_hint_x: .2

                    Black_12sp_Label: 
                        text: 'mins'
                        size_hint_x: .2

                    Black_12sp_Label: 
                        size_hint_x: .4


                GridLayout:
                    cols: 4
                    size_hint_y: None
                    height: '30dp'

                    Black_12sp_Label: 
                        text: 'Snooze:'
                        size_hint_x: .2

                    TextInput:
                        id: snooze
                        multiline: False
                        font_size: '12sp'
                        size_hint_x: .2

                    Black_12sp_Label: 
                        text: 'mins'
                        size_hint_x: .2

                    Black_12sp_Label: 
                        size_hint_x: .4


###         End Layer 2

###     Layer 1 widget

        GridLayout:                         
            cols: 4
            size_hint_y: .08
            spacing: (10, 0)

            Black_12sp_Label: 
                size_hint_x: .25

            Button:
                id: confirm
                size_hint_x: .25 
                text: 'Confirm'
                on_release: root.add_alarm()

            Button:
                size_hint_x: .25 
                text: 'Cancel'
                on_release: root.dismiss()

            Black_12sp_Label: 
                size_hint_x: .25

########################################################################
# creating page Layout
<AlarmLayout>:
#########################################################################	
    BoxLayout:
        orientation: 'vertical'
        padding: 2, 2, 2, 2
        background_color: 1, 1, 1, 1

        canvas:
            Color:
                rgba: .6, .6, .6, 1
            Rectangle:
                pos: self.pos
                size: self.size 

        Label:        
            text: 'Current Alarms' 
            font_size: 16
            color: "#000000"
            size_hint_y: .10
                      
        GridLayout:
            cols: 1
            id: content
            size_hint_y: 0.8
            padding: 4, 4, 4, 4

        GridLayout:
            cols: 1
            size_hint_y: 0.1
            spacing: (15, 0)
            padding: 10, 10, 10, 10

            GridLayout:
                cols: 3
                size_hint_x: 0.5

                Button:
                    id: new
                    text: 'Add alarm'
                    size_hint: (1, 1)
                    pos_hint: {"center_x": .5}
                    on_press: Factory.AlarmPopup().open()

                Button:
                    id: del
                    text: 'Delete'
                    size_hint: (1, 1)
                    pos_hint: {"center_x": .5}
                    on_press: root.delete_alarm() 
                                        
                Button:
                    id: edit
                    text: 'Edit'
                    size_hint: (1, 1)
                    pos_hint: {"center_x": .5}
                    on_press: root.edit_alarm

#########################################################################

